trigger:
  branches:
    include:
    - Temp_Changes
    - testBranch
variables:
  buildPlatform: x64
  imageName: ubuntu-18.04
  artifactName: Ideploy-drop
  gradleOption: -Xmx3072m
  jdkVersion: 1.8
  gradleFile: aa
  contentPath: '**/target/*.jar'
  option: ''
  testResultPath: bbbbb
pool:
  vmImage: $(imageName)
steps:
- task: Gradle@2
  inputs:
    workingDirectory: ' '
    gradleWrapperFile: $(gradleFile)
    gradleOptions: $(gradleOption)
    javaHomeOption: JDKVersion
    jdkVersionOption: $(jdkVersion)
    jdkArchitectureOption: $(buildPlatform)
    publishJUnitResults: true
    tasks: build
    testResultsFiles: bbbbb
- task: CopyFiles@2
  inputs:
    contents: $(contentPath)
    targetFolder: $(build.artifactStagingDirectory)
- task: PublishBuildArtifacts@1
  condition: succeededOrFailed()
  inputs:
    artifactName: $(artifactName)
    pathToPublish: $(build.artifactStagingDirectory)
